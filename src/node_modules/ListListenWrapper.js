//ListListenWrapper.js-----------------------

import React from "react"
import ReactDOM from 'react-dom';

import {Global} from "Global.js";

import {PlayCurrentAudio} from "PlayCurrentAudio.js";

let global = Global();


export class ListListenWrapper extends React.Component {
  constructor(props) {
    let  arr_state_audio = Array(global.count_questions_test);
    for(let i=0; i<global.count_questions_test; i++) {arr_state_audio[i] = true;}
    arr_state_audio[0] = false;
    super(props);
//    this.handleChange = this.handleChange.bind(this);
    this.state = (
      {state_test: arr_state_audio,
       state_edit: false
      }
    ); //arr_state_audio
  }//constructor

  playAudio(numberAudio) { 

    document.getElementById('header_menu_listen').style.textDecoration = "underline";

    document.getElementById('tests_wrapper').style = {visibility: 'hide'};
    document.getElementById('words_wrapper').style = {visibility: 'hide'};

//console.log('numberTest=',numberTest);
    global.currentTest = numberAudio; // current audio

    function PlayAudioWork() {
        return <PlayCurrentAudio />;
    }//---end of PlayAudiotWork
   
    ReactDOM.render(<PlayAudioWork />, document.getElementById('listen_wrapper'));

  } //----end of  showTest(numberTest) {

  noVisibilityAudio(e) {
      document.getElementById('list_listen_wrapper').style.visibility = 'hidden';
  }

  render() {
    console.log('ListListenWrapper---------------------');
    if(document.getElementById('tests_wrapper')) document.getElementById('tests_wrapper').style.display = 'none';
    if(document.getElementById('listen_wrapper')) document.getElementById('listen_wrapper').style.display = 'none';
    if(document.getElementById('phrases_wrapper')) document.getElementById('phrases_wrapper').style.display = 'none';
    if(document.getElementById('jokes_wrapper')) document.getElementById('jokes_wrapper').style.display = 'none';
    if(document.getElementById('header_menu_tests')) document.getElementById('header_menu_tests').style.textDecoration = 'none';
    if(document.getElementById('header_menu_listen')) document.getElementById('header_menu_listen').style.textDecoration = 'none';
    if(document.getElementById('header_menu_phrases')) document.getElementById('header_menu_phrases').style.textDecoration = 'none';
    if(document.getElementById('header_menu_jokes')) document.getElementById('header_menu_jokes').style.textDecoration = 'none';

    let work1, arr=[];
    let k;     
    for(let i = 1; i <= global.nAudio; i++){
      work1 = "AUDIO" + i;
      k = i - 1;
      arr[i] = <div key={work1} id={work1} className="menu_test" fontSize="11px" onClick={this.playAudio.bind(this,k)}>{work1}</div>
    }
    return (<div id="list_listen_wrapper" onMouseLeave={this.noVisibilityAudio}> {arr} </div>)
    
  }

}  //end of ListListenWrapper -----------------

